<section>
  <h1 class="text-2xl font-semibold border-b border-stone-300 pb-1 mb-4">Students</h1>

  <div *ngIf="error" class="bg-red-50 border border-red-200 text-red-700 px-4 py-2 rounded mb-4">
    <p><strong>Error:</strong> {{ error }}</p>
  </div>

  <table *ngIf="students && students.length > 0" class="w-full text-sm border-collapse mt-4">
    <thead>
      <tr class="bg-stone-100 text-stone-800 border-b border-stone-300">
        <th class="text-left px-4 py-2 font-medium">Id</th>
        <th class="text-left px-4 py-2 font-medium">First Name</th>
        <th class="text-left px-4 py-2 font-medium">Last Name</th>
      </tr>
    </thead>
    <tbody>
      <tr
        *ngFor="let student of students"
        class="border-b border-stone-200 hover:bg-stone-50"
      >
        <td class="px-4 py-2">{{ student.id }}</td>
        <td class="px-4 py-2">{{ student.firstName }}</td>
        <td class="px-4 py-2">{{ student.lastName }}</td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="students && students.length === 0" class="text-stone-600 italic mt-4">
    No students found.
  </div>

  <form (ngSubmit)="createStudent()" class="mt-6">
    <h2 class="text-xl font-semibold mb-2">Add New Student</h2>

    <div class="flex flex-col md:flex-row gap-4 mb-4">
      <input type="text" [(ngModel)]="firstName" name="firstName" placeholder="First Name"
             class="border border-stone-300 rounded px-3 py-2 w-full" required>

      <input type="text" [(ngModel)]="lastName" name="lastName" placeholder="Last Name"
             class="border border-stone-300 rounded px-3 py-2 w-full" required>

      <input type="number" [(ngModel)]="age" name="age" placeholder="Age"
             class="border border-stone-300 rounded px-3 py-2 w-full" required>
    </div>

    <button type="submit"
            [disabled]="loading"
            class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">
      {{ loading ? 'Submitting...' : 'Create Student' }}
    </button>
  </form>
</section>
